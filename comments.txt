*************************** 
https://www.youtube.com/watch?v=jdfNnNccDt0
Till 40:23
Tab navigation, tabBar stylize, tabBar icons are done
****************************

1. Why Tabs is not styling by StyleSheet?

2. Icons - Ionicons from expo-router

3. Icon size={size} color={color}. Why?

*************************** 
https://www.youtube.com/watch?v=jdfNnNccDt0
From 40:23 till 53:28
Dark and Light mode
****************************

!!!!! TypeScript interfeisu lieto≈°ana ReactNative
!!!!! Context API lieto≈°ana ReactNative
!!!!! Provider lieto≈°ana ReactNative
!!!!! useContext lieto≈°ana ReactNative
!!!!! useState lieto≈°ana ReactNative
!!!!! useEffect lieto≈°ana ReactNative
!!!!! asyncStorage lieto≈°ana ReactNative


1. Local Storage - lai atcereetos kƒÅdu tƒìmu izvƒìlƒìjƒÅs lietotƒÅjs.

2. To nodro≈°ina speciƒÅls hook(s)

3. Local storage vietƒÅ izmantojam async-storage

npm i @react-native-async-storage/async-storage

4. jƒÅizveido themeProvider (fails ar 132 rindƒÅm koda tƒ´rƒÅ React ar Typescript un nekƒÅ no ReactNative, iz≈Üemot async-storage pakotni). 
- importƒìjam useState, useEffect un asyncStorage.
- Providerim ir useState - kas seko kƒÅds reims izvƒìlƒìts
- useEffect - lai iegaumƒìtu lietotƒÅja izvƒìli pƒìdƒìjƒÅ sistƒìmas palai≈°anas reizƒì.
- tad tiek izsaukta metode toggleDarkMode - kas ƒºauj pƒÅrslƒìgt tƒìmas un atjauno asyncStorage noglabƒÅtos datus (Dark modƒì izmantojam agrƒÅk nodefinƒìtƒÅs tum≈°ƒÅs krƒÅsas, Ligh Modƒì - gai≈°ƒÅs).
- Lai to nodro≈°inƒÅtu izveidojam hooku useTheme, kur≈° izsauc context.
- const useTheme = () => {
    const context = useContext(ThemeContext);
    if (context === undefined) {
        throw new Error("useTheme must be used within a ThemeProvider");
    }

    return context;
};

5. Tagad pamata _layoutƒÅ (ne tab layoutƒÅ) viss kods jƒÅietin (wrap), lai varƒìtu izmantot Light un Dark modes. 

6. Ietinam visu ThemeProviderƒ´ (ko importƒìjam nevis no react-native, bet no ../hooks/useTheme)

import { Stack } from "expo-router";
import { ThemeProvider } from "../hooks/useTheme";
import React from "react";

export default function RootLayout() {
  return (
    <ThemeProvider>
      <Stack screenOptions={{
        headerShown: false,
      }}>
        <Stack.Screen name="(tabs)" />
      </Stack>
    </ThemeProvider>
  );
}

7. Tagad pielabojam (tabs) screenus,lai izmantotu themes nodefinƒìtƒÅs krƒÅsas (color={color} etc.).
....
import { useTheme } from '../../hooks/useTheme';

  <Tabs screenOptions={{
            tabBarActiveTintColor: colors.primary,
            tabBarInactiveTintColor: colors.textMuted,
            tabBarStyle: {
                backgroundColor: colors.surface,
                borderTopWidth: 1,
                borderTopColor: colors.border,
.......

app lieto LightMode, jo hookaa useTheme useState sƒÅkumstƒÅvoklis ir false, bet     const colors = isDarkMode ? darkColors : lightColors;
tƒÅtad sƒÅkumƒÅ sanƒÅk light Mode.

8. Pievienojam tƒìmu pƒÅrslƒìg≈°anas toggle pogu (pƒÅrbaudam - tabBar maina tƒìmu. PƒÅrstartƒìjot app, tƒìma ir tƒÅ,kas bija pirms app aizvƒìr≈°anas jo stƒÅvooklis saglabƒÅjas async storage (local - iekƒÅrtƒÅ kurƒÅ instalƒìta app)) - importƒìjam hooku, pievienojam no hooka toggleDarkMode metodi un uzrakstam uzrakstu "Toggle Mode"

import React from 'react'
import { StyleSheet, Text, View, TouchableOpacity } from 'react-native'
import useTheme from '../../hooks/useTheme'

export default function Index() {
    const { toggleDarkMode } = useTheme()

    return (
        <View style={styles.container}>
            <Text>Index</Text>
            <TouchableOpacity onPress={toggleDarkMode}>
                <Text>Toggle Mode</Text>
            </TouchableOpacity>
        </View>
    )
}

Tagad tƒìmu pƒÅrslƒìg≈°ana darbojas, to vƒìlƒÅk realizƒìsim ar atsevi≈°ku pƒÅrslƒìg≈°anas komponentu setting screenƒÅ.

*************************** 
https://www.youtube.com/watch?v=jdfNnNccDt0
From 53:28 till 1:10:00
Add DataBase and configure schema and functions
****************************

1. izmantojam backendam Convex (lƒ´dz 20 projektiem - bez maksas)  (var Firebase vai Supabase)- the backend AI  (DB, autentifikƒÅcija, fona uzdevumi un citas funkcijas)

2. Projektu ConvexƒÅ var izveidot convex admin paneli vai no IDE terminƒÅƒºa:
- vienƒÅ terminƒÅlƒ´ palaists npx expo
- otrƒÅ terminƒÅlƒ´ -   npm i convex
tad -   npx convex dev

3. convex mapƒì izveido schema.ts failu. tad tajƒÅ izveido db tabulu sheemu.

import { defineSchema, defineTable } from "convex/server";
import { v } from "convex/values";

export default defineSchema({
    todos: defineTable({
        text: v.string(),
        isCompleted: v.boolean(),
    }),
});


//Pƒìc schema.ts saglabƒÅ≈°anas tev ir jƒÅizpilda:
bash
npx convex deploy
üëâ ≈†ƒ´ komanda:
aug≈°upielƒÅdƒì shƒìmu uz Convex backendu,
atjauno metadatus admin panelƒ´.
Ja tu esi tikai palaidis npx convex dev, tad shƒìma var b≈´t lokƒÅli aktƒ´va, bet neparƒÅdƒÅs admin panelƒ´.

//Vai schema.ts satur export default defineSchema(...)?
Convex identificƒì shƒìmu caur export default. Ja tu esi eksportƒìjis to citƒÅdƒÅk (piemƒìram, export const schema = ...), tad tƒÅ netiks uzskatƒ´ta par aktƒ´vo shƒìmu.
Pareizi b≈´tu:
ts
import { defineSchema, defineTable } from "convex/schema";

export default defineSchema({
  klienti: defineTable({
    vƒÅrds: "string",
    e_pasts: "string",
    izveidots: "number",
  }),
});


// ‚ùóÔ∏è Svarƒ´gi: jƒÅb≈´t export default, nevis export const.

// pƒìc DB pieslƒìg≈°anas visu laiku JƒÄIZMANTO DIVI TERMINƒÄƒªI VIENLAIKUS !!!!

VIENƒÄ - npx expo start
OTRƒÄ - npx convex dev // tas nodro≈°inƒÅs veikto izmai≈Üu atjauno≈°anu concex kontƒÅ.

*********************

convex mapƒì izveido failu todo.ts

// lai ieg≈´tu datus - s≈´tam pieprasƒ´jumu (query )GET)
) uz db, lai rediƒ£ƒìtu vai dzƒìstu ierakstu - jƒÅizmanto mutƒÅcija (createTodo, updateTodo, deleteTodo).

pieprasƒ´jumƒÅ ieg≈´stam ctx - contekstu, kas ƒºauj sazinƒÅties ar db.

Pilns funkciju fails todo.Ts (viens GET pieprasijums un 5 mutƒÅcijas) :

import { ConvexError, v } from "convex/values";
import { mutation, query } from "../convex/_generated/server";

//ieg≈´stam todos no db

export const getTodos = query({
    handler: async (ctx) => {
        const todos = await ctx.db.query("todos").order("desc").collect();
        return todos;
    }
});

// todo pievienoshanas funkcija

export const addTodo = mutation({
    args: { text: v.string() },
    handler: async (ctx, args) => {
        const todoId = await ctx.db.insert("todos", {
            text: args.text,
            isCompleted: false
        });
        return todoId;
    }
});


// pƒÅrslƒìgs pogai - ir vai nav todo

export const toggleTodo = mutation({
    args: { id: v.id("todos") },
    handler: async (ctx, args) => {
        const todo = await ctx.db.get(args.id);
        if (!todo) {
            throw new ConvexError("Todo not found");
        }
        await ctx.db.patch(args.id, {
            isCompleted: !todo.isCompleted
        });
    }
})

// todo dzƒì≈°anas funkcija

export const deleteTodo = mutation({
    args: { id: v.id("todos") },
    handler: async (ctx, args) => {
        await ctx.db.delete(args.id);
    }
})

// todo rediƒ£ƒì≈°anas funkcija

export const updateTodo = mutation({
    args: { id: v.id("todos"), text: v.string() },
    handler: async (ctx, args) => {
        await ctx.db.patch(args.id, {
            text: args.text
        });
    }
})

// reset app btn funkcija (visi todos tiek dzƒìsti)

export const clearAllTodos = mutation({
    handler: async (ctx) => {
        const todos = await ctx.db.query("todos").collect();


        //Delete all todos
        for (const todo of todos) {
            await ctx.db.delete(todo._id);
        }

        return { deleteCount: todos.length };
    }
})

*************************** 
https://www.youtube.com/watch?v=jdfNnNccDt0
From 1:10:00 - 1:14:27
Add functions to app
****************************

1. Importƒìjam app/_layout.tsx failƒÅ ConvexProvider un ConverReactClient. un ietinam visu layoutu ieksh convex provider, lai visa app buutu saistiita ar convex. Pilns kods: 

import { ConvexProvider, ConvexReactClient } from "convex/react";
import { Stack } from "expo-router";
import React from "react";
import { ThemeProvider } from "../hooks/useTheme";

const convex = new ConvexReactClient(process.env.EXPO_PUBLIC_CONVEX_URL!, {
  unsavedChangesWarning: false,
});

export default function RootLayout() {
  return (
    <ConvexProvider client={convex}>
      <ThemeProvider>
        <Stack screenOptions={{
          headerShown: false,
        }}>
          <Stack.Screen name="(tabs)" />
        </Stack>
      </ThemeProvider>
    </ConvexProvider>
  );
}

2. Pievienojam datus no DB uz index screenu tab/index.tsx failƒÅ.

import { useQuery } from 'convex/react'
import { api } from '../../convex/_generated/api'


export default function Index() {
    const { toggleDarkMode } = useTheme()

    const todos = useQuery(api.todo.getTodos)
    console.log(todos)

    return (.......

// ieguustam tukshu masiivu jo nav veel neviens todo izveidots.

3. Pievienojam nepiecie≈°aaas mutƒÅcija, kuras pƒìc tam izsaulsim ar touchableopacity :

    const todos = useQuery(api.todo.getTodos)
    console.log(todos)

    const addTodo = useMutation(api.todo.addTodo)

    const clearAllTodos = useMutation(api.todo.clearAllTodos)

    // un izsauc tƒÅs at touchableopacity:

   <TouchableOpacity onPress={() => addTodo({ text: "New Todo" })}>
                <Text>Add Todo</Text>
            </TouchableOpacity>
            <TouchableOpacity onPress={() => clearAllTodos()}>
                <Text>Clear All Todos</Text>
            </TouchableOpacity>


*************************** 
https://www.youtube.com/watch?v=jdfNnNccDt0
From 1:14:27
Setting up styles & Header component
****************************

